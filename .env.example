# Copy this file to .env and fill in your own values
# IMPORTANT: Never commit .env to version control - it will be auto-excluded!
#
# See README.md for setup instructions on generating secure random values

# ============================================================================
# Node-RED Configuration
# ============================================================================
NODE_RED_ADMIN_USER=your_username_here
NODE_RED_ADMIN_PASSWORD=your_secure_password_here
# ^ Plain password above (automatically hashed at container startup)
# ^ No need to manually generate bcrypt hash
# ^ Also used by the backend to inject cloud workflows via the Node-RED Admin API

NODE_RED_CREDENTIAL_SECRET=your_128_char_random_hex_string_here
# ^ Generate with: openssl rand -hex 64

# ============================================================================
# MQTT Configuration (Mosquitto)
# ============================================================================
MQTT_BROKER_URL=mqtts://mosquitto:8883
# ^ Hostname: 'mosquitto' for Docker, 'localhost' or your_hostname for local
# ^ Protocol: use 'mqtts' for TLS, 'mqtt' for plaintext (not recommended)
# ^ Port: 8883 for TLS, 1883 for plaintext

MQTT_USERNAME=your_mqtt_username
MQTT_PASSWORD=your_mqtt_password
# ^ Plain passwords above (automatically added to mosquitto at container startup)
# ^ Both services will use these same credentials

# ============================================================================
# Encryption & Security
# ============================================================================
ENCRYPTION_KEY=your_64_char_random_hex_string_here
# ^ Generate with: openssl rand -hex 32
# ^ Used for WiFi password encryption

ADMIN_PASSWORD=your_admin_password_here
# ^ Plain password for system admin access

# ============================================================================
# API Configuration
# ============================================================================
API_PORT=3000
FRONTEND_PORT=443

# ============================================================================
# Database Configuration
# ============================================================================
DB_PATH=/app/data/invehicle.db
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=trailcurrent

# ============================================================================
# Network Configuration & SSL Certificates
# ============================================================================
TLS_CERT_HOSTNAME=your_device_hostname.local
# ^ For DEVELOPMENT: Any value works (dev certs always include localhost)
# ^ For PRODUCTION: Set to your device's hostname (e.g., trailcurrent01.local)
# ^ Used by ./scripts/generate-certs.sh for SSL certificate generation
# ^ See README.md "SSL Certificate Generation" section for details

# ============================================================================
# Tileserver Map Tiles (REQUIRED)
# ============================================================================
# The Tileserver container requires a .mbtiles file for map data
# Location: data/tileserver/map.mbtiles
#
# IMPORTANT: The application will NOT start without this file!
#
# See README.md "Map Tile Setup" section and DOCS/UpdatingMapTiles.md
# for instructions on:
# - Downloading pre-generated tiles
# - Generating tiles from OpenStreetMap data
# - Updating tiles with newer data

# ============================================================================
# Environment
# ============================================================================
NODE_ENV=production
# ^ Use 'production' for normal operation
# ^ Use 'development' for debugging (enables debug port on 0.0.0.0:9229)
